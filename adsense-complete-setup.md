# AdSense 完整配置指南

## 配置概览

本指南将帮助你完成 AdSense 广告系统的完整配置，包括：
- 7个广告单元的创建
- 配置文件的自动更新
- 完整的测试和验证
- 故障排除和优化

## 快速开始

### 1. 使用自动化脚本
```javascript
// 在浏览器控制台运行
adsenseAutomation.generateConsoleGuide();
```

### 2. 创建广告单元
按照生成的指南在 AdSense 后台创建7个广告单元

### 3. 更新配置
```javascript
// 更新 Slot ID
adsenseAutomation.updateSlotIds({
    topBanner: '你的顶部横幅Slot ID',
    sidebar: '你的侧边栏Slot ID',
    native: '你的信息流Slot ID',
    stickyBottom: '你的底部粘性Slot ID',
    testInterstitial: '你的测试插播Slot ID',
    resultPage: '你的结果页Slot ID',
    video: '你的视频广告Slot ID'
});
```

### 4. 运行测试
```javascript
// 运行完整测试
adsenseAutomation.runFullTest();
```

## 详细配置步骤

### 第一步：AdSense 账户准备
1. 登录 [AdSense 控制台](https://www.google.com/adsense/)
2. 确认账户状态正常
3. 验证网站已通过审核
4. 检查域名授权状态

### 第二步：创建广告单元
在 AdSense 后台创建以下7个广告单元：

#### 1. 顶部横幅广告
- **名称**：MBTI Top Banner
- **尺寸**：320x50 (移动横幅)
- **类型**：显示广告
- **格式**：自适应
- **用途**：页面顶部展示

#### 2. 侧边栏广告
- **名称**：MBTI Sidebar
- **尺寸**：300x250 (中矩形)
- **类型**：显示广告
- **格式**：自适应
- **用途**：桌面端右侧固定位置

#### 3. 信息流广告
- **名称**：MBTI Native
- **尺寸**：320x100 (大移动横幅)
- **类型**：显示广告
- **格式**：自适应
- **用途**：内容中自然插入

#### 4. 底部粘性广告
- **名称**：MBTI Sticky Bottom
- **尺寸**：320x50 (移动横幅)
- **类型**：显示广告
- **格式**：自适应
- **用途**：移动端底部固定展示

#### 5. 测试插播广告
- **名称**：MBTI Test Interstitial
- **尺寸**：300x250 (中矩形)
- **类型**：显示广告
- **格式**：自适应
- **用途**：测试过程中插播展示

#### 6. 结果页广告
- **名称**：MBTI Result Page
- **尺寸**：300x250 (中矩形)
- **类型**：显示广告
- **格式**：自适应
- **用途**：结果页面展示

#### 7. 视频广告
- **名称**：MBTI Video Ad
- **尺寸**：300x250 (中矩形)
- **类型**：显示广告
- **格式**：自适应
- **用途**：视频广告展示

### 第三步：获取 Slot ID
1. 在 "按广告单元" 页面找到所有创建的广告单元
2. 点击每个广告单元名称
3. 在详情页面找到 **"广告单元 ID"**
4. 记录所有 Slot ID

### 第四步：更新配置文件
使用自动化脚本更新配置：

```javascript
// 更新 Slot ID
adsenseAutomation.updateSlotIds({
    topBanner: '1234567890',        // 替换为你的真实 Slot ID
    sidebar: '1234567891',          // 替换为你的真实 Slot ID
    native: '1234567892',           // 替换为你的真实 Slot ID
    stickyBottom: '1234567893',     // 替换为你的真实 Slot ID
    testInterstitial: '1234567894', // 替换为你的真实 Slot ID
    resultPage: '1234567895',       // 替换为你的真实 Slot ID
    video: '1234567896'             // 替换为你的真实 Slot ID
});
```

### 第五步：测试和验证
运行完整测试：

```javascript
// 运行完整测试
adsenseAutomation.runFullTest();
```

## 配置文件说明

### amp-ad-config.js
AMP 页面的广告配置，包含：
- 广告位尺寸和 Slot ID
- 广告展示策略
- 样式配置

### ad-config.js
普通页面的广告配置，包含：
- AdSense 发布商 ID
- 广告位配置
- 广告策略设置

### ads-manager.js
广告管理器，提供：
- 广告加载和管理
- 事件追踪
- 性能优化

### amp-ad-manager.js
AMP 广告管理器，提供：
- AMP 广告加载
- 懒加载支持
- 可见性检测

## 测试和验证

### 本地测试
1. 启动本地服务器
2. 访问你的网站
3. 检查广告显示
4. 测试不同功能

### 移动端测试
1. 使用移动设备访问
2. 检查响应式显示
3. 测试触摸交互
4. 验证广告位置

### 桌面端测试
1. 使用桌面浏览器访问
2. 检查广告位置
3. 测试不同分辨率
4. 验证广告功能

### AdSense 诊断
1. 使用 [AdSense 诊断工具](https://support.google.com/adsense/answer/7532444)
2. 检查广告状态
3. 验证配置
4. 查看错误信息

## 故障排除

### 常见问题
1. **广告不显示**
   - 检查 Slot ID
   - 验证域名授权
   - 确认 ads.txt 文件

2. **尺寸异常**
   - 检查广告单元配置
   - 验证 CSS 样式
   - 测试响应式设置

3. **收入异常**
   - 分析展示数据
   - 检查点击率
   - 优化广告密度

4. **加载缓慢**
   - 优化广告脚本
   - 使用懒加载
   - 减少广告数量

### 调试工具
- 浏览器开发者工具
- AdSense 诊断工具
- 性能监控工具
- 自动化测试脚本

## 优化建议

### 广告位置优化
1. 测试不同位置
2. 优化广告密度
3. 调整广告尺寸
4. 改善用户体验

### 收入优化
1. 启用自动广告
2. 设置广告过滤
3. 优化广告格式
4. 监控收入数据

### 性能优化
1. 使用懒加载
2. 优化广告脚本
3. 减少广告数量
4. 监控页面性能

## 监控和维护

### 日常监控
- 广告展示状态
- 收入数据
- 用户反馈
- 性能指标

### 定期优化
- 广告位置调整
- 密度优化
- 格式改进
- 策略更新

### 故障处理
- 快速诊断
- 问题解决
- 预防措施
- 经验总结

## 完成确认

### 检查清单
- [ ] 所有7个广告单元已创建
- [ ] 每个广告单元都有唯一的 Slot ID
- [ ] 配置文件已正确更新
- [ ] 广告显示正常
- [ ] 移动端和桌面端都正常
- [ ] AdSense 诊断通过
- [ ] 收入数据正常
- [ ] 性能指标良好
- [ ] 用户体验满意

### 下一步
1. 监控广告数据
2. 优化广告策略
3. 分析用户行为
4. 持续改进

---

**完成这些步骤后，你将拥有完整的 AdSense 广告系统！**
