# 广告集成使用指南

## 概述
本指南介绍如何在你的性格测试网站中集成Google AdSense广告变现功能。

## 文件结构
```
├── ad-config.js          # 广告配置文件
├── ads-manager.js        # 广告管理器
├── ads-integration-example.html  # 集成示例页面
└── mbti-test.html        # 已集成广告的MBTI测试页面
```

## 广告类型

### 1. 侧边栏广告
- **位置**: 页面右侧固定位置
- **特点**: 不影响用户体验，持续展示
- **实现**: `window.adManager.createSidebarAd()`

### 2. 信息流广告
- **位置**: 测试过程中自然插入
- **特点**: 原生样式，用户体验友好
- **实现**: `window.adManager.createNativeAd(containerId)`

### 3. 视频广告
- **位置**: 测试完成后全屏显示
- **特点**: 高收益，可跳过
- **实现**: `window.adManager.createVideoAd()`

## 集成步骤

### 步骤1: 引入广告文件
在HTML页面头部添加：
```html
<script src="ad-config.js"></script>
<script src="ads-manager.js"></script>
```

### 步骤2: 添加广告容器
在合适位置添加广告容器：
```html
<!-- 测试前广告 -->
<div id="pre-test-ad" class="ad-container native-ad">
    <!-- 广告将在这里动态加载 -->
</div>

<!-- 测试后广告 -->
<div id="post-test-ad" class="ad-container result-ad" style="display: none;">
    <!-- 广告将在这里动态加载 -->
</div>
```

### 步骤3: 添加广告样式
```css
.ad-container {
    margin: 20px 0;
    text-align: center;
    border-radius: 12px;
    overflow: hidden;
}
.ad-container.sidebar-ad {
    position: fixed;
    top: 20px;
    right: 20px;
    width: 300px;
    z-index: 1000;
}
```

### 步骤4: 初始化广告
```javascript
function initializeAds() {
    if (window.adManager) {
        // 显示侧边栏广告
        window.adManager.createSidebarAd();
        
        // 显示测试前广告
        window.adManager.createNativeAd('pre-test-ad');
    }
}
```

### 步骤5: 在关键节点显示广告
```javascript
// 测试完成时显示视频广告
function proceedToNext() {
    if (window.adManager) {
        window.adManager.createVideoAd().then(() => {
            // 广告播放完成后继续
            window.location.href = 'next-page.html';
        });
    }
}
```

## 配置说明

### 广告位配置
在 `ad-config.js` 中配置你的AdSense广告位：
```javascript
adSlots: {
    sidebar: {
        slotId: '你的侧边栏广告位ID',
        format: 'auto'
    },
    native: {
        slotId: '你的信息流广告位ID',
        format: 'fluid'
    },
    video: {
        slotId: '你的视频广告位ID',
        format: 'auto'
    }
}
```

### 广告策略配置
```javascript
adStrategy: {
    adPositions: [3, 6, 9, 12],  // 在哪些题目后显示广告
    minInterval: 30,              // 广告最小间隔（秒）
    allowSkip: true,              // 是否允许跳过
    videoAdDuration: 15           // 视频广告时长（秒）
}
```

## 最佳实践

### 1. 广告位置优化
- 侧边栏广告：不影响主要内容阅读
- 信息流广告：在测试间隙自然插入
- 视频广告：在用户完成重要操作后显示

### 2. 用户体验平衡
- 设置合理的广告间隔
- 提供跳过选项
- 确保广告不影响测试流程

### 3. 收益优化
- 在用户参与度高的页面显示更多广告
- 测试结果页面是广告展示的黄金位置
- 视频广告收益最高，但要注意频率

### 4. 移动端适配
```css
@media (max-width: 768px) {
    .ad-container.sidebar-ad {
        position: static;
        width: 100%;
        margin: 20px 0;
    }
}
```

## 测试和调试

### 1. 检查广告加载
```javascript
// 在浏览器控制台检查
console.log(window.adManager.getAdStats());
```

### 2. 广告事件追踪
系统会自动追踪以下事件：
- `sidebar_ad_loaded` - 侧边栏广告加载
- `native_ad_loaded` - 信息流广告加载
- `video_ad_loaded` - 视频广告加载
- `video_ad_skipped` - 视频广告跳过

### 3. 常见问题
- **广告不显示**: 检查AdSense配置和广告位ID
- **广告重叠**: 调整CSS z-index值
- **移动端显示异常**: 检查响应式CSS

## 收益预期

### 影响因素
1. **流量质量**: 用户停留时间和参与度
2. **广告位置**: 结果页面广告收益最高
3. **用户地区**: 不同地区CPM差异很大
4. **内容相关性**: 性格测试相关广告点击率更高

### 优化建议
1. 增加测试深度和互动性
2. 优化页面加载速度
3. 提供个性化结果分享功能
4. 建立用户社区增加粘性

## 注意事项

1. **AdSense政策**: 确保遵守Google AdSense政策
2. **用户体验**: 不要过度展示广告影响用户体验
3. **数据隐私**: 遵守相关数据保护法规
4. **性能优化**: 广告加载不应影响页面性能

## 技术支持

如有问题，请检查：
1. 浏览器控制台错误信息
2. AdSense账户状态
3. 广告位配置是否正确
4. 网络连接是否正常
