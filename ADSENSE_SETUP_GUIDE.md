# Google AdSense 设置指南 - 禁用弹出式广告

## 问题描述
您遇到的弹出式广告（"Your result unlocks after a brief message"）是Google AdSense的自动广告功能，包括：
- 穿插广告 (Interstitial Ads)
- 锚定广告 (Anchor Ads) 
- 重叠式广告 (Overlay Ads)

## 解决方案

### 1. 在Google AdSense后台禁用自动广告

#### 步骤1：登录AdSense
1. 访问 [Google AdSense](https://www.google.com/adsense/)
2. 使用您的Google账户登录

#### 步骤2：进入广告设置
1. 在左侧菜单中点击 **"广告"**
2. 选择 **"概览"**
3. 找到您的网站 `ca-pub-4198974976257818`
4. 点击网站旁边的 **"编辑"** 图标

#### 步骤3：禁用重叠式广告格式
在广告设置页面中，找到 **"重叠式广告格式"** 部分，关闭以下选项：
- ❌ **穿插广告** (Interstitial Ads)
- ❌ **锚定广告** (Anchor Ads)
- ❌ **重叠式广告** (Overlay Ads)

#### 步骤4：保存设置
点击 **"保存"** 按钮保存更改

### 2. 代码层面的优化

我们已经对代码进行了以下优化：

#### 禁用页面级自动广告
在 `pages/_app.tsx` 中添加了：
```javascript
(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: "ca-pub-4198974976257818",
  enable_page_level_ads: false
});
```

#### 确保只使用手动配置的广告单元
我们的广告组件只使用以下嵌入式广告：
- **HeaderAd** - 页面顶部横幅
- **InlineAd** - 内容中横幅
- **FooterAd** - 页面底部横幅
- **SidebarAd** - 侧边栏矩形广告
- **MobileAd** - 移动端专用广告

### 3. 验证设置

#### 检查广告类型
设置完成后，您的网站应该只显示以下类型的广告：
- ✅ 页面顶部嵌入式横幅广告
- ✅ 内容中嵌入式横幅广告
- ✅ 页面底部嵌入式横幅广告
- ✅ 侧边栏嵌入式矩形广告

#### 不应该再出现的广告类型
- ❌ 全屏弹出广告
- ❌ 固定边缘的锚定广告
- ❌ 覆盖内容的重叠广告
- ❌ "Your result unlocks" 类型的等待界面

### 4. 生效时间
- 代码更改：立即生效
- AdSense后台设置：通常需要几分钟到几小时生效
- 完全生效：最多可能需要24小时

### 5. 测试方法
1. 清除浏览器缓存
2. 使用无痕模式访问网站
3. 检查是否还有弹出式广告
4. 确认只显示嵌入式广告

## 注意事项
- 确保您的网站已正确添加到AdSense账户
- 广告收入可能会暂时下降，因为嵌入式广告的展示量通常低于自动广告
- 但用户体验会显著提升，因为不会有干扰性的弹出广告

## 联系支持
如果设置后仍有问题，可以：
1. 检查AdSense后台的"政策"部分，确保没有违规
2. 联系Google AdSense支持团队
3. 检查是否有其他广告服务或浏览器扩展干扰
