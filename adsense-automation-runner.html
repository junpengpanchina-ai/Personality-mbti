<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AdSense è‡ªåŠ¨åŒ–é…ç½®å·¥å…·</title>
    <style>
        * { box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0 0 10px;
            font-size: 28px;
        }
        .header p {
            margin: 0;
            opacity: 0.9;
        }
        .content {
            padding: 30px;
        }
        .section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            background: #f9fafb;
        }
        .section h2 {
            margin: 0 0 15px;
            color: #374151;
            font-size: 20px;
        }
        .btn {
            display: inline-block;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin: 5px;
            text-decoration: none;
            transition: transform 0.2s;
        }
        .btn:hover {
            transform: translateY(-2px);
        }
        .btn-secondary {
            background: #6b7280;
        }
        .btn-success {
            background: #10b981;
        }
        .btn-warning {
            background: #f59e0b;
        }
        .btn-danger {
            background: #ef4444;
        }
        .input-group {
            margin: 15px 0;
        }
        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #374151;
        }
        .input-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
        }
        .console-output {
            background: #1f2937;
            color: #f9fafb;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            max-height: 400px;
            overflow-y: auto;
            margin: 15px 0;
        }
        .status {
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
            font-weight: 600;
        }
        .status.success {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #a7f3d0;
        }
        .status.error {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #fca5a5;
        }
        .status.info {
            background: #dbeafe;
            color: #1e40af;
            border: 1px solid #93c5fd;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
        }
        .card h3 {
            margin: 0 0 15px;
            color: #374151;
        }
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            width: 0%;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš€ AdSense è‡ªåŠ¨åŒ–é…ç½®å·¥å…·</h1>
            <p>ä¸€é”®é…ç½® AdSense å¹¿å‘Šç³»ç»Ÿï¼Œè‡ªåŠ¨ç”Ÿæˆé…ç½®æ–‡ä»¶å’Œæµ‹è¯•æŠ¥å‘Š</p>
        </div>
        
        <div class="content">
            <!-- å¿«é€Ÿå¼€å§‹ -->
            <div class="section">
                <h2>ğŸ“‹ å¿«é€Ÿå¼€å§‹</h2>
                <p>ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®å¼€å§‹è‡ªåŠ¨åŒ–é…ç½®æµç¨‹ï¼š</p>
                <button class="btn" onclick="startAutomation()">å¼€å§‹è‡ªåŠ¨åŒ–é…ç½®</button>
                <button class="btn btn-secondary" onclick="clearConsole()">æ¸…ç©ºæ§åˆ¶å°</button>
            </div>

            <!-- Slot ID é…ç½® -->
            <div class="section">
                <h2>ğŸ”§ Slot ID é…ç½®</h2>
                <p>åœ¨ AdSense åå°åˆ›å»ºå¹¿å‘Šå•å…ƒåï¼Œåœ¨è¿™é‡Œå¡«å…¥ä½ çš„ Slot IDï¼š</p>
                
                <div class="grid">
                    <div class="card">
                        <h3>é¡¶éƒ¨æ¨ªå¹…</h3>
                        <div class="input-group">
                            <label>Slot ID:</label>
                            <input type="text" id="topBanner" placeholder="1234567890">
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>ä¾§è¾¹æ </h3>
                        <div class="input-group">
                            <label>Slot ID:</label>
                            <input type="text" id="sidebar" placeholder="1234567891">
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>ä¿¡æ¯æµ</h3>
                        <div class="input-group">
                            <label>Slot ID:</label>
                            <input type="text" id="native" placeholder="1234567892">
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>åº•éƒ¨ç²˜æ€§</h3>
                        <div class="input-group">
                            <label>Slot ID:</label>
                            <input type="text" id="stickyBottom" placeholder="1234567893">
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>æµ‹è¯•æ’æ’­</h3>
                        <div class="input-group">
                            <label>Slot ID:</label>
                            <input type="text" id="testInterstitial" placeholder="1234567894">
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>ç»“æœé¡µ</h3>
                        <div class="input-group">
                            <label>Slot ID:</label>
                            <input type="text" id="resultPage" placeholder="1234567895">
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>è§†é¢‘å¹¿å‘Š</h3>
                        <div class="input-group">
                            <label>Slot ID:</label>
                            <input type="text" id="video" placeholder="1234567896">
                        </div>
                    </div>
                </div>
                
                <button class="btn btn-success" onclick="updateSlotIds()">æ›´æ–° Slot ID</button>
                <button class="btn btn-secondary" onclick="validateConfig()">éªŒè¯é…ç½®</button>
            </div>

            <!-- æ“ä½œæŒ‰é’® -->
            <div class="section">
                <h2>ğŸ› ï¸ æ“ä½œå·¥å…·</h2>
                <div class="grid">
                    <div class="card">
                        <h3>é…ç½®ç”Ÿæˆ</h3>
                        <button class="btn" onclick="generateConsoleGuide()">ç”Ÿæˆæ§åˆ¶å°æŒ‡å—</button>
                        <button class="btn" onclick="generateConfigFiles()">ç”Ÿæˆé…ç½®æ–‡ä»¶</button>
                    </div>
                    
                    <div class="card">
                        <h3>æµ‹è¯•éªŒè¯</h3>
                        <button class="btn btn-warning" onclick="testAdDisplay()">æµ‹è¯•å¹¿å‘Šæ˜¾ç¤º</button>
                        <button class="btn btn-success" onclick="runFullTest()">è¿è¡Œå®Œæ•´æµ‹è¯•</button>
                    </div>
                    
                    <div class="card">
                        <h3>ä¼˜åŒ–å»ºè®®</h3>
                        <button class="btn" onclick="generateOptimizationSuggestions()">ç”Ÿæˆä¼˜åŒ–å»ºè®®</button>
                        <button class="btn" onclick="generateTestReport()">ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š</button>
                    </div>
                    
                    <div class="card">
                        <h3>å¯¼å‡ºå·¥å…·</h3>
                        <button class="btn btn-secondary" onclick="exportConfig()">å¯¼å‡ºé…ç½®</button>
                        <button class="btn btn-danger" onclick="resetAll()">é‡ç½®æ‰€æœ‰</button>
                    </div>
                </div>
            </div>

            <!-- è¿›åº¦æ˜¾ç¤º -->
            <div class="section">
                <h2>ğŸ“Š è¿›åº¦çŠ¶æ€</h2>
                <div class="progress-bar">
                    <div id="progress-fill" class="progress-fill"></div>
                </div>
                <div id="status-message" class="status info">å‡†å¤‡å¼€å§‹é…ç½®...</div>
            </div>

            <!-- æ§åˆ¶å°è¾“å‡º -->
            <div class="section">
                <h2>ğŸ“º æ§åˆ¶å°è¾“å‡º</h2>
                <div id="console-output" class="console-output">
                    <div>AdSense è‡ªåŠ¨åŒ–é…ç½®å·¥å…·å·²åŠ è½½</div>
                    <div>ç‚¹å‡»"å¼€å§‹è‡ªåŠ¨åŒ–é…ç½®"å¼€å§‹ä½¿ç”¨</div>
                </div>
            </div>
        </div>
    </div>

    <!-- åŠ è½½è‡ªåŠ¨åŒ–è„šæœ¬ -->
    <script src="adsense-automation-script.js"></script>
    <script>
        // é‡å†™ console.log ä»¥æ˜¾ç¤ºåœ¨é¡µé¢ä¸Š
        const originalLog = console.log;
        const consoleOutput = document.getElementById('console-output');
        
        console.log = function(...args) {
            originalLog.apply(console, args);
            const message = args.map(arg => 
                typeof arg === 'object' ? JSON.stringify(arg, null, 2) : String(arg)
            ).join(' ');
            consoleOutput.innerHTML += `<div>${message}</div>`;
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
        };

        // æ›´æ–°çŠ¶æ€æ¶ˆæ¯
        function updateStatus(message, type = 'info') {
            const statusElement = document.getElementById('status-message');
            statusElement.textContent = message;
            statusElement.className = `status ${type}`;
        }

        // æ›´æ–°è¿›åº¦æ¡
        function updateProgress(percent) {
            const progressFill = document.getElementById('progress-fill');
            progressFill.style.width = percent + '%';
        }

        // å¼€å§‹è‡ªåŠ¨åŒ–é…ç½®
        async function startAutomation() {
            updateStatus('å¼€å§‹è‡ªåŠ¨åŒ–é…ç½®...', 'info');
            updateProgress(10);
            
            try {
                console.log('ğŸš€ å¼€å§‹ AdSense è‡ªåŠ¨åŒ–é…ç½®...');
                
                // ç”Ÿæˆæ§åˆ¶å°æŒ‡å—
                updateProgress(20);
                adsenseAutomation.generateConsoleGuide();
                
                // éªŒè¯é…ç½®
                updateProgress(40);
                const configValid = adsenseAutomation.validateConfig();
                
                if (!configValid) {
                    updateStatus('é…ç½®éªŒè¯å¤±è´¥ï¼Œè¯·å…ˆå¡«å…¥ Slot ID', 'error');
                    updateProgress(0);
                    return;
                }
                
                // æµ‹è¯•å¹¿å‘Šæ˜¾ç¤º
                updateProgress(60);
                await adsenseAutomation.testAdDisplay();
                
                // ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
                updateProgress(80);
                adsenseAutomation.generateTestReport();
                
                // ç”Ÿæˆä¼˜åŒ–å»ºè®®
                updateProgress(90);
                adsenseAutomation.generateOptimizationSuggestions();
                
                updateProgress(100);
                updateStatus('è‡ªåŠ¨åŒ–é…ç½®å®Œæˆï¼', 'success');
                
            } catch (error) {
                console.error('è‡ªåŠ¨åŒ–é…ç½®å¤±è´¥:', error);
                updateStatus('é…ç½®å¤±è´¥: ' + error.message, 'error');
                updateProgress(0);
            }
        }

        // æ›´æ–° Slot ID
        function updateSlotIds() {
            const slotIds = {
                topBanner: document.getElementById('topBanner').value,
                sidebar: document.getElementById('sidebar').value,
                native: document.getElementById('native').value,
                stickyBottom: document.getElementById('stickyBottom').value,
                testInterstitial: document.getElementById('testInterstitial').value,
                resultPage: document.getElementById('resultPage').value,
                video: document.getElementById('video').value
            };
            
            // è¿‡æ»¤ç©ºå€¼
            const filteredSlotIds = {};
            Object.keys(slotIds).forEach(key => {
                if (slotIds[key].trim()) {
                    filteredSlotIds[key] = slotIds[key].trim();
                }
            });
            
            if (Object.keys(filteredSlotIds).length === 0) {
                updateStatus('è¯·è‡³å°‘å¡«å…¥ä¸€ä¸ª Slot ID', 'error');
                return;
            }
            
            adsenseAutomation.updateSlotIds(filteredSlotIds);
            updateStatus('Slot ID å·²æ›´æ–°', 'success');
        }

        // éªŒè¯é…ç½®
        function validateConfig() {
            const isValid = adsenseAutomation.validateConfig();
            if (isValid) {
                updateStatus('é…ç½®éªŒè¯é€šè¿‡', 'success');
            } else {
                updateStatus('é…ç½®éªŒè¯å¤±è´¥', 'error');
            }
        }

        // ç”Ÿæˆæ§åˆ¶å°æŒ‡å—
        function generateConsoleGuide() {
            adsenseAutomation.generateConsoleGuide();
            updateStatus('æ§åˆ¶å°æŒ‡å—å·²ç”Ÿæˆ', 'info');
        }

        // ç”Ÿæˆé…ç½®æ–‡ä»¶
        function generateConfigFiles() {
            adsenseAutomation.generateConfigFiles();
            updateStatus('é…ç½®æ–‡ä»¶å·²ç”Ÿæˆ', 'success');
        }

        // æµ‹è¯•å¹¿å‘Šæ˜¾ç¤º
        async function testAdDisplay() {
            updateStatus('æµ‹è¯•å¹¿å‘Šæ˜¾ç¤º...', 'info');
            await adsenseAutomation.testAdDisplay();
            updateStatus('å¹¿å‘Šæ˜¾ç¤ºæµ‹è¯•å®Œæˆ', 'success');
        }

        // è¿è¡Œå®Œæ•´æµ‹è¯•
        async function runFullTest() {
            updateStatus('è¿è¡Œå®Œæ•´æµ‹è¯•...', 'info');
            await adsenseAutomation.runFullTest();
            updateStatus('å®Œæ•´æµ‹è¯•å®Œæˆ', 'success');
        }

        // ç”Ÿæˆä¼˜åŒ–å»ºè®®
        function generateOptimizationSuggestions() {
            adsenseAutomation.generateOptimizationSuggestions();
            updateStatus('ä¼˜åŒ–å»ºè®®å·²ç”Ÿæˆ', 'info');
        }

        // ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
        function generateTestReport() {
            adsenseAutomation.generateTestReport();
            updateStatus('æµ‹è¯•æŠ¥å‘Šå·²ç”Ÿæˆ', 'success');
        }

        // å¯¼å‡ºé…ç½®
        function exportConfig() {
            adsenseAutomation.exportConfig();
            updateStatus('é…ç½®å·²å¯¼å‡º', 'success');
        }

        // æ¸…ç©ºæ§åˆ¶å°
        function clearConsole() {
            consoleOutput.innerHTML = '';
            updateStatus('æ§åˆ¶å°å·²æ¸…ç©º', 'info');
        }

        // é‡ç½®æ‰€æœ‰
        function resetAll() {
            if (confirm('ç¡®å®šè¦é‡ç½®æ‰€æœ‰é…ç½®å—ï¼Ÿ')) {
                // æ¸…ç©ºè¾“å…¥æ¡†
                const inputs = document.querySelectorAll('input[type="text"]');
                inputs.forEach(input => input.value = '');
                
                // é‡ç½®çŠ¶æ€
                updateStatus('å·²é‡ç½®æ‰€æœ‰é…ç½®', 'info');
                updateProgress(0);
                clearConsole();
                
                console.log('ğŸ”„ æ‰€æœ‰é…ç½®å·²é‡ç½®');
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('âœ… AdSense è‡ªåŠ¨åŒ–é…ç½®å·¥å…·å·²åŠ è½½');
            console.log('ğŸ“‹ ä½¿ç”¨è¯´æ˜:');
            console.log('1. åœ¨ AdSense åå°åˆ›å»ºå¹¿å‘Šå•å…ƒ');
            console.log('2. å¡«å…¥ Slot ID');
            console.log('3. ç‚¹å‡»"å¼€å§‹è‡ªåŠ¨åŒ–é…ç½®"');
            console.log('4. æŸ¥çœ‹ç”Ÿæˆçš„é…ç½®å’Œæµ‹è¯•ç»“æœ');
        });
    </script>
</body>
</html>
