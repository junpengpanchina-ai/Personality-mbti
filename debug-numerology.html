<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°å­—å‘½ç†åŠŸèƒ½è°ƒè¯•</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ccc; }
        .btn { padding: 10px 20px; background: #007bff; color: white; border: none; cursor: pointer; }
        .result { margin: 10px 0; padding: 10px; background: #f8f9fa; border-left: 4px solid #007bff; }
    </style>
</head>
<body>
    <h1>ğŸ”¢ æ•°å­—å‘½ç†åŠŸèƒ½è°ƒè¯•é¡µé¢</h1>
    
    <div class="test-section">
        <h3>æµ‹è¯•1: åŸºæœ¬å‡½æ•°è°ƒç”¨</h3>
        <button class="btn" onclick="testBasicFunctions()">æµ‹è¯•åŸºæœ¬å‡½æ•°</button>
        <div id="test1Result" class="result"></div>
    </div>
    
    <div class="test-section">
        <h3>æµ‹è¯•2: æ•°å­—è®¡ç®—</h3>
        <input type="date" id="testDate" value="1990-01-01">
        <input type="text" id="testName" placeholder="æµ‹è¯•å§“å" value="å¼ ä¸‰">
        <button class="btn" onclick="testNumberCalculations()">æµ‹è¯•æ•°å­—è®¡ç®—</button>
        <div id="test2Result" class="result"></div>
    </div>
    
    <div class="test-section">
        <h3>æµ‹è¯•3: å®Œæ•´åˆ†ææµç¨‹</h3>
        <button class="btn" onclick="testFullAnalysis()">æµ‹è¯•å®Œæ•´åˆ†æ</button>
        <div id="test3Result" class="result"></div>
    </div>

    <script>
        // å¤åˆ¶æ•°å­—å‘½ç†çš„æ ¸å¿ƒå‡½æ•°
        const NUMBER_MEANINGS = {
            1: { traits: 'é¢†å¯¼åŠ›ã€ç‹¬ç«‹æ€§ã€åˆ›æ–°æ€§', mbti: 'ENTJ,ENTP,INTJ', element: 'ç«', career: 'ä¼ä¸šå®¶ã€é¢†å¯¼ã€åˆ›æ–°è€…' },
            2: { traits: 'åˆä½œæ€§ã€æ•æ„Ÿæ€§ã€å’Œè°æ€§', mbti: 'INFJ,INFP,ENFJ', element: 'æ°´', career: 'å’¨è¯¢å¸ˆã€åè°ƒè€…ã€è‰ºæœ¯å®¶' },
            3: { traits: 'è¡¨è¾¾æ€§ã€åˆ›é€ æ€§ã€ä¹è§‚æ€§', mbti: 'ENFP,ESFP,ENTP', element: 'æœ¨', career: 'åˆ›æ„å·¥ä½œè€…ã€è¡¨æ¼”è€…ã€æ•™å¸ˆ' },
            4: { traits: 'ç¨³å®šæ€§ã€å®ç”¨æ€§ã€ç»„ç»‡æ€§', mbti: 'ISTJ,ESTJ,ISFJ', element: 'åœŸ', career: 'ç®¡ç†è€…ã€å·¥ç¨‹å¸ˆã€ä¼šè®¡å¸ˆ' },
            5: { traits: 'è‡ªç”±æ€§ã€å†’é™©æ€§ã€é€‚åº”æ€§', mbti: 'ESTP,ISTP,ENFP', element: 'æ°´', career: 'æ¢é™©å®¶ã€é”€å”®å‘˜ã€è®°è€…' },
            6: { traits: 'è´£ä»»æ„Ÿã€å…³çˆ±æ€§ã€å¹³è¡¡æ€§', mbti: 'ISFJ,ESFJ,INFJ', element: 'åœŸ', career: 'æŠ¤ç†å¸ˆã€æ•™å¸ˆã€ç¤¾å·¥' },
            7: { traits: 'åˆ†ææ€§ã€ç²¾ç¥æ€§ã€ç¥ç§˜æ€§', mbti: 'INTP,INTJ,INFJ', element: 'é‡‘', career: 'ç§‘å­¦å®¶ã€å“²å­¦å®¶ã€åˆ†æå¸ˆ' },
            8: { traits: 'æƒåŠ›æ€§ã€ç‰©è´¨æ€§ã€æˆå°±æ€§', mbti: 'ENTJ,ESTJ,ISTJ', element: 'é‡‘', career: 'ä¼ä¸šå®¶ã€é«˜ç®¡ã€æ”¿æ²»å®¶' },
            9: { traits: 'äººé“æ€§ã€ç†æƒ³æ€§ã€æ™ºæ…§æ€§', mbti: 'INFJ,ENFJ,INFP', element: 'ç«', career: 'äººé“ä¸»ä¹‰è€…ã€è‰ºæœ¯å®¶ã€å¯¼å¸ˆ' }
        };

        const CHINESE_NAME_NUMBERS = {
            'ä¸€':1, 'äºŒ':2, 'ä¸‰':3, 'å››':4, 'äº”':5, 'å…­':6, 'ä¸ƒ':7, 'å…«':8, 'ä¹':9,
            'å¼ ':3, 'ä¸‰':3, 'ç‹':1, 'æ':2, 'åˆ˜':4, 'é™ˆ':5, 'æ¨':6, 'èµµ':7, 'é»„':8, 'å‘¨':9, 'å´':10
        };

        // æµ‹è¯•åŸºæœ¬å‡½æ•°
        function testBasicFunctions() {
            const result = document.getElementById('test1Result');
            try {
                result.innerHTML = `
                    <h4>âœ… åŸºæœ¬å‡½æ•°æµ‹è¯•é€šè¿‡</h4>
                    <p>NUMBER_MEANINGS å¯¹è±¡: ${Object.keys(NUMBER_MEANINGS).length} ä¸ªæ•°å­—</p>
                    <p>CHINESE_NAME_NUMBERS å¯¹è±¡: ${Object.keys(CHINESE_NAME_NUMBERS).length} ä¸ªå­—ç¬¦</p>
                    <p>æ‰€æœ‰å‡½æ•°éƒ½å·²å®šä¹‰å¹¶å¯ç”¨</p>
                `;
            } catch (error) {
                result.innerHTML = `<h4>âŒ åŸºæœ¬å‡½æ•°æµ‹è¯•å¤±è´¥</h4><p>é”™è¯¯: ${error.message}</p>`;
            }
        }

        // æµ‹è¯•æ•°å­—è®¡ç®—
        function testNumberCalculations() {
            const result = document.getElementById('test2Result');
            const birthDate = document.getElementById('testDate').value;
            const name = document.getElementById('testName').value;
            
            try {
                const lifeNumber = calculateLifeNumber(birthDate);
                const destinyNumber = calculateDestinyNumber(birthDate);
                const soulNumber = calculateSoulNumber(name);
                
                result.innerHTML = `
                    <h4>âœ… æ•°å­—è®¡ç®—æµ‹è¯•é€šè¿‡</h4>
                    <p>å‡ºç”Ÿæ—¥æœŸ: ${birthDate}</p>
                    <p>å§“å: ${name}</p>
                    <p>ç”Ÿå‘½æ•°å­—: ${lifeNumber}</p>
                    <p>å‘½è¿æ•°å­—: ${destinyNumber}</p>
                    <p>çµé­‚æ•°å­—: ${soulNumber}</p>
                `;
            } catch (error) {
                result.innerHTML = `<h4>âŒ æ•°å­—è®¡ç®—æµ‹è¯•å¤±è´¥</h4><p>é”™è¯¯: ${error.message}</p>`;
            }
        }

        // æµ‹è¯•å®Œæ•´åˆ†ææµç¨‹
        function testFullAnalysis() {
            const result = document.getElementById('test3Result');
            const birthDate = document.getElementById('testDate').value;
            const name = document.getElementById('testName').value;
            
            try {
                const lifeNumber = calculateLifeNumber(birthDate);
                const destinyNumber = calculateDestinyNumber(birthDate);
                const soulNumber = calculateSoulNumber(name);
                
                const lifeInfo = NUMBER_MEANINGS[lifeNumber] || {};
                const destinyInfo = NUMBER_MEANINGS[destinyNumber] || {};
                const soulInfo = NUMBER_MEANINGS[soulNumber] || {};
                
                result.innerHTML = `
                    <h4>âœ… å®Œæ•´åˆ†ææµ‹è¯•é€šè¿‡</h4>
                    <p><strong>ç”Ÿå‘½æ•°å­— ${lifeNumber}:</strong> ${lifeInfo.traits}</p>
                    <p><strong>å‘½è¿æ•°å­— ${destinyNumber}:</strong> ${destinyInfo.traits}</p>
                    <p><strong>çµé­‚æ•°å­— ${soulNumber}:</strong> ${soulInfo.traits}</p>
                    <p><strong>MBTIæ˜ å°„:</strong> ${lifeInfo.mbti}</p>
                    <p><strong>äº”è¡Œå±æ€§:</strong> ${lifeInfo.element}</p>
                    <p><strong>é€‚é…èŒä¸š:</strong> ${lifeInfo.career}</p>
                `;
            } catch (error) {
                result.innerHTML = `<h4>âŒ å®Œæ•´åˆ†ææµ‹è¯•å¤±è´¥</h4><p>é”™è¯¯: ${error.message}</p>`;
            }
        }

        // å¤åˆ¶æ ¸å¿ƒè®¡ç®—å‡½æ•°
        function calculateLifeNumber(birthDate) {
            const dateStr = birthDate.replace(/-/g, '');
            let sum = 0;
            for (let i = 0; i < dateStr.length; i++) {
                sum += parseInt(dateStr[i]);
            }
            while (sum > 9) {
                sum = Math.floor(sum / 10) + (sum % 10);
            }
            return sum;
        }

        function calculateDestinyNumber(birthDate) {
            const dateStr = birthDate.replace(/-/g, '');
            let sum = 0;
            for (let i = 0; i < dateStr.length; i++) {
                sum += parseInt(dateStr[i]);
            }
            return sum;
        }

        function calculateSoulNumber(name) {
            if (!name) return 0;
            let sum = 0;
            let found = false;
            
            for (let i = 0; i < name.length; i++) {
                const char = name[i];
                if (CHINESE_NAME_NUMBERS[char]) {
                    sum += CHINESE_NAME_NUMBERS[char];
                    found = true;
                }
            }
            
            if (!found) {
                for (let i = 0; i < name.length; i++) {
                    const charCode = name.charCodeAt(i);
                    sum += (charCode % 9) + 1;
                }
            }
            
            while (sum > 9) {
                sum = Math.floor(sum / 10) + (sum % 10);
            }
            
            return sum;
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('è°ƒè¯•é¡µé¢åŠ è½½å®Œæˆ');
            console.log('æ•°å­—å‘½ç†æ ¸å¿ƒå‡½æ•°å·²åŠ è½½');
            console.log('å¯ä»¥è¿›è¡ŒåŠŸèƒ½æµ‹è¯•');
        });
    </script>
</body>
</html>
